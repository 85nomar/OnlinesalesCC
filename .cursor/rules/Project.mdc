---
description: 
globs: 
alwaysApply: true
---
---
description: 
globs: 
alwaysApply: true
---

# ğŸ§  Order Management Dashboard â€“ Clean Setup Prompt for Cursor

## ğŸ—ï¸ Project Goal

Rebuild the **Order Management Dashboard** as a clean, modern React + TypeScript app using the real **.NET backend** (no mock data). This dashboard helps users track orders, handle delays, manage tickets, and communicate with customers.

---

## âœ… Core Objectives

- ğŸ”¥ Start **from scratch** â€“ remove all legacy or mock-based code
- âš™ï¸ Integrate the **.NET REST API** backend
- ğŸ§© Use a **feature-based architecture**
- ğŸ”„ **Do not restructure** backend data â€“ only map to clean types
- ğŸ’¬ Re-implement the **autosuggest ticket form** with intelligent validation

---

## ğŸ§­ Pages to Implement

### 1. ğŸ“Š **Grouped Orders Page** `/open-orders`

- Source: `/api/orders/grouped`
- Show: `ArtikelNr`, `Artikel`, `Hrs`, `WgrNo`, `Anzahl`, `Erstelldatum`, `AnzahlTickets`
- Merge `/api/orders/additional` into view
- Features:
  - Color-coded delivery status
  - Click row â†’ `/order-details/:itemNumber`
  - Click ticket count â†’ **modal with tickets**
  - Edit delivery date / add alternative items

---

### 2. ğŸ” **Order Details Page** `/order-details/:itemNumber`

- Source: `/api/orders?artikelNr=`
- Shows:
  - All individual orders
  - New delivery date
  - Alternative items (add/remove)
  - Send email modal

---

### 3. ğŸ« **Tickets Page** `/tickets`

- Source: `/api/tickets`
- Table: Ticket ID, ArtikelNr, BestellNr, Comment, User, Date
- Full CRUD via modals
- Autosuggestion for ArtikelNr â†” BestellNr

---

### 4. ğŸ§¾ **Grouped Tickets Modal**

- Triggered from ticket count in Grouped Orders Page
- Filters tickets by selected `ArtikelNr`
- Read-only table

---

## ğŸ” Backend Mapping (German â†’ English)

| Backend           | Frontend           |
|------------------|--------------------|
| `ArtikelNr`      | `itemNumber`       |
| `BestellNr`      | `orderNumber`      |
| `Artikel`        | `itemName`         |
| `Hrs`            | `brand`            |
| `Anzahl`         | `quantity`         |
| `WgrNo`          | `productGroup`     |
| `Erstelldatum`   | `createdAt`        |
| `Kommentar`      | `comment`          |
| `Entrydate`      | `entryDate`        |

Create mapping functions like `mapTicket`, `mapOpenOrder`, `mapGroupedOrder`.

---

## ğŸ” Ticket Form: Autosuggestion & Failsafe

- `ArtikelNr` input shows matching `BestellNr` list (and vice versa)
- Only valid combinations allowed
- Failsafe: Invalid combos = block submission + show toast
- Min. 4 digits for both numbers
- Form: `itemNumber`, `orderNumber`, `comment`

---

## ğŸ“ Architecture & Code Structure

src/ 
â”œâ”€â”€ features/ 
â”‚ â”œâ”€â”€ tickets/ 
â”‚ â”œâ”€â”€ orders/ 
â”‚ â”œâ”€â”€ email/ 
â”‚ â””â”€â”€ common/ 
â”œâ”€â”€ components/ 
â”‚ â”œâ”€â”€ ui/ 
â”‚ â”œâ”€â”€ tickets/ 
â”œâ”€â”€ layouts/ 
â”œâ”€â”€ pages/ 
â”‚ â”œâ”€â”€ open-orders/ 
â”‚ â”œâ”€â”€ order-details/ 
â”‚ â”œâ”€â”€ tickets/ 
â”‚ â””â”€â”€ home/ 
â”œâ”€â”€ lib/ 
â”‚ â”œâ”€â”€ apiClient.ts 
â”‚ â”œâ”€â”€ queryClient.ts 
â”‚ â”œâ”€â”€ utils.ts 
â”‚ â””â”€â”€ validationSchemas.ts
---

## ğŸ§  Technical Requirements

- âš›ï¸ React 18 + TypeScript
- âš¡ Vite
- ğŸ’… Tailwind CSS + SCSS
- ğŸ“¦ Zustand (if needed)
- ğŸ” React Query (TanStack)
- ğŸ›ï¸ Radix UI
- âœ… Zod for validation
- ğŸŒ i18n (en/de)

---

## ğŸ¨ UI/UX Design

- âœ… **2025-level UI** â€” modern, responsive, minimal
- ğŸ¨ Light/Dark mode toggle
- ğŸ¯ Accent color: `#df0000`
- ğŸ–¼ï¸ Theme-specific logos:
  - Light: `MM_LOGO-RGB.svg`, `MM-Wirbel-rgb-red.svg`
  - Dark: `MM_LOGO-white.svg`, `MM-Wirbel-rgb-white.svg`
- ğŸ“š Clickable breadcrumbs on every page
- ğŸ§± Consistent layout + spacing
- ğŸ”„ Sidebar collapsible, expands on hover
- ğŸ“ˆ Universal DataTable with:
  - Pagination
  - Sorting
  - Search & filters
  - Empty / loading / error states

---

## ğŸ” Authentication (Placeholder)

- No auth required yet
- Leave placeholder logic for future login
- Store `byUser` field on ticket creation

---

## ğŸ“¬ Email Modal

- Sends bulk or specific order emails
- Modal form with:
  - Subject
  - Message
  - Recipient selection
- Uses `/api/email`
- Preview + toast feedback

---

## âš™ï¸ Performance

- Must handle **100,000+ orders**
- Use backend-powered pagination and search
- **Never load full datasets into memory**
- Use `take`, `skip`, `wgrNo`, `artikelNr`, etc.
- Optimize all API calls + caching

---

## ğŸ§¼ Final Cleanup Instructions
- âœ… Only use real backend integration
- âœ… Maintain clear and consistent naming throughout

